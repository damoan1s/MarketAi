PROJECT_SPEC.md
MarketAI — Project Master Specification
1. VISION — رؤية المشروع
MarketAI هو نظام تداول ذكي متكامل يعتمد على الذكاء الاصطناعي متعدد الوكلاء (Multi‑Agent System) لتحليل الأسواق المالية، قراءة سلوك كبار المتداولين، مقارنة بيانات الفيوتشر بالسبوت، مراقبة الـ Orderflow، اتخاذ قرارات تداول لحظية، وتنفيذ الصفقات حسب صرامة في إدارة المخاطر.
هدف المشروع هو بناء نظام تداول يعمل كدماغ اصطناعي قادر على:
الفهم اللحظي لحركة السوق.
تحليل البيانات العميقة (CVD، Delta، Liquidity، DOM...).
كشف النوايا المخفية لكبار المتداولين.
اتخاذ قرارات تداول مبنية على قواعد رياضية.
إدارة المخاطر بدقة.
تقديم تقارير وشرح لكل قرار.
MarketAI ليس مجرد Bot… بل نظام تداول كامل يعمل كمتداول محترف داخل جهازك.
2. CORE PHILOSOPHY — فلسفة المشروع
جوهر MarketAI مبني على المبادئ التالية:
2.1. السوق ليس عشوائيًا
السعر لا يتحرك بدون نية؛ وظيفة النظام هي كشف هذه النية.
2.2. الفيوتشر هو اللغة الحقيقية للسوق
السبوت يجمّل الحركة… الفيوتشر يكشف الحقيقة.
2.3. الأسواق تتحرك حسب:
السيولة
التلاعب (Manipulation)
مناطق التصفية
ضغط المراكز
سلوك المؤسسات
2.4. كل قرار تداول يجب أن يكون قابلًا للشرح
MarketAI لا يدخل صفقة إلا إذا:
فهم لماذا يدخل
كيف سيخرج
ما درجة المخاطرة
ما التأكيدات المطلوبة
2.5. كل شيء يجب أن يكون قابلًا للـ Backtest
لا توجد فرضيات غير قابلة للقياس.
3. SYSTEM OVERVIEW — نظرة عامة على النظام
MarketAI مكوّن من 5 وحدات رئيسية:
3.1. Data Layer — طبقة البيانات
تجمع كل البيانات:
بيانات الشموع
بيانات الفيوتشر
بيانات السبوت
الـ Orderflow
السيولة
CVD + Delta
3.2. Analysis Layer — طبقة التحليل
تحليل متقدم:
مقارنة سبوت/فيوتشر
كشف المناطق المخفية
تحليل الدلتا
قراءة الهيتماب
اكتشاف الذروات الوهمية
تحليل الاتجاه العام
3.3. Strategy Layer — طبقة الاستراتيجية
مسؤولة عن:
نماذج الدخول والخروج
قواعد إدارة المخاطر
قواعد التصفية
تأكيد الاتجاه
منع الدخول المبكر
3.4. Decision Engine — محرك اتخاذ القرار
الدماغ الذي يقرر:
دخول / عدم دخول
شراء / بيع
وقف الخسارة
الهدف
حجم الصفقة
3.5. Execution Layer — طبقة التنفيذ
تنفيذ الصفقات على المنصة:
Market / Limit
تعديل الأوامر
إلغاء الأوامر
جلب النتائج
4. MULTI‑AGENT ARCHITECTURE — معمارية النظام متعدد الوكلاء
MarketAI يتكون من 6 وكلاء (Agents):
4.1. DataAgent
مسؤول عن جمع البيانات وبناء DataFrames جاهزة.
4.2. OrderflowAgent
قراءة:
Delta
CVD
Liquidity levels
Absorption / Exhaustion
4.3. StructureAgent
تحليل الاتجاه العام:
HH/LL
BOS
CHoCH
Big picture
4.4. FutureSpotAgent
يقارن السبوت بالفيوتشر:
اختلافات الذروات
اختلافات القيعان
divergence الحقيقي
4.5. RiskAgent
إدارة المخاطر:
حجم العقد
الخسارة المسوح بها
نسبة المخاطرة
4.6. DecisionAgent (الدماغ)
يتلقى مخرجات جميع الوكلاء ويقرر:
الدخول
الخروج
الإلغاء
الشرح
5. WORKFLOW — مخطط عمل النظام
DataAgent → يجمع البيانات.
OrderflowAgent → يحلل السيولة وحجم الصفقات.
StructureAgent → يحدد الاتجاه.
FutureSpotAgent → يكشف نية المؤسسات.
RiskAgent → يحدد إن كان الدخول مسموحًا.
DecisionAgent → يتخذ القرار.
ExecutionLayer → ينفذ الصفقة.
كل خطوة ترسل تقريرًا للخطوة التالية.
6. MODULES — بنية المشروع (النهائية)
MarketAI/ docs/ PROJECT_SPEC.md FOUNDATIONS.md PHILOSOPHY.md agents/ data_agent.py orderflow_agent.py structure_agent.py futurespot_agent.py risk_agent.py decision_agent.py src/ data/ analysis/ strategies/ engine/ execution/ utils/ backtester/ dashboard/ ui/ tests/ README.md 
7. DATA MODELS — نماذج البيانات الأساسية
7.1. النموذج الأساسي للشمعة
Open, High, Low, Close, Volume 
7.2. بيانات الدلتا
7.3. بيانات السيولة
7.4. مقارنة Spot/Future
8. STRATEGY DESIGN — تصميم الاستراتيجية الأساسية
تعتمد على:
اتجاه عام واضح
مناطق تصفية
Divergence بين الفيوتشر والسبوت
تأكيد من الدلتا + CVD
شمعة تأكيد
إدارة مخاطر صارمة
9. RISK MODEL — نموذج المخاطرة
مخاطرة 0.5% – 1% لكل صفقة
دخول فقط إذا توفرت 5 شروط أساسية
إلغاء مباشر عند كسر الهيكلة
10. GOALS — أهداف النسخة الأولى
تشغيل أول Backtest حقيقي
تشغيل أول Demo للتوقعات
تشغيل DecisionAgent بنسخة بسيطة
11. NEXT STEPS — الخطوات القادمة
إعادة ترتيب الملفات حسب هذه الوثيقة
بناء مجلد agents
بناء DataAgent
تشغيل أول workflow بسيط
END OF PROJECT SPEC
